\usepackage{calc} 
\usepackage{forloop}
\usepackage{framed}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{xcolor}
%\usepackage{mathpazo}
\usepackage{lastpage}
\usepackage{totcount}
	
\usepackage[charter]{mathdesign}
  
\usepackage[hmargin=2cm,vmargin=2.5cm]{geometry}

\newtotcounter{calctotalmarks}
\setcounter{calctotalmarks}{0} 
\newcounter{forloopcounter} 
\newcommand{\putansline}[2]{\setcounter{forloopcounter}{1}\forloop{forloopcounter}{0}{\value{forloopcounter}< #1}{\par\vspace{\the\baselineskip}\dotfill}[#2]\addtocounter{calctotalmarks}{#2}}

\newcommand{\putbonusansline}[2]{\setcounter{forloopcounter}{1}\forloop{forloopcounter}{0}{\value{forloopcounter}< #1}{\par\vspace{\the\baselineskip}\dotfill}[#2]}



\newcommand{\hideanslines}{%
  \renewcommand{\putansline}[2]{\hfill [##2]\addtocounter{calctotalmarks}{##2}}
  \renewcommand{\putansbox}[1]{}
  \renewcommand{\putbonusansline}[2]{\hfill  [##2]}
%  \renewcommand{\newpage}{}
}%

\newcommand{\calculatedtotalmarks}{\vspace{20pt}\par Calculated Total Marks: \the\value{calctotalmarks}}
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\cfoot{}
\rfoot{\textcolor{black!80}{\hspace{0.04\textwidth}\coursename\ (\semester\ - \examtype)
\hfill Page \thepage\ of \pageref{LastPage}}}

\newcommand{\putansbox}[1]{%
  \vspace{\the\baselineskip}\par\framebox[0.94\textwidth]{\rule{0pt}{#1\baselineskip}}\vspace{\the\baselineskip}
}

\newcommand{\maketitleheader}{%
\begin{tabular}{ccc}
\begin{minipage}{0.15\textwidth}
\includegraphics[width=\textwidth]{\leftlogo}
\end{minipage}
&
\begin{minipage}{0.6\textwidth}
\begin{center}
{\huge \textsc{\univname}} \\ 
{\large \textsc{\univsubname}}
\end{center} 
\end{minipage}
&
\begin{minipage}{0.15\textwidth}
\includegraphics[width=\textwidth]{\rightlogo}
\end{minipage}
\end{tabular}
\begin{center}
\begin{tabular}{p{0.16\textwidth}p{0.28\textwidth}p{0.17\textwidth}p{0.25\textwidth}}
\textbf{Name}:        &\dotfill            & \textbf{Roll No}:     &\dotfill \\
\textbf{Program}:      &\programname & \textbf{Examination}: & \examtype \\
\textbf{Semester}:    & \semester    & \textbf{Total marks}: 
							  \total{calctotalmarks}  & \textbf{Weight}: \weightmarks \\
\textbf{Time allowed}:& \timeallowed & \textbf{Date}:        & \examdate \\
\textbf{Course}:      & \coursename  & \textbf{Instructor}:  & \instructorname  \\
\end{tabular}
\end{center}
\hfill 
\begin{tabular}{|l|c|}
  \hline 
  \parbox[c]{0.615\textwidth}{\vspace{18pt}
%    \hrule\vspace{6pt}
    \topnote\vspace{18pt}
%    \hrule 
  } & 
   Score: \parbox[c]{0.25\textwidth}{\vspace{0.5cm}\hspace{0.2\textwidth} /  \total{calctotalmarks}\vspace{0.5cm}\\ \tiny{\textcolor{gray}{To be filled in by the instructor.}}}
   \\\hline 
\end{tabular} 



}

%\newcommand{\putansbox}[1]{%
%  \vspace{\the\baselineskip}\par\framebox[\dimexpr\linewidth-2\fboxrule-2\fboxsep\relax]  
%  {%
%    \rule{0pt}{#1\baselineskip}%
%  }%
%  \vspace{\the\baselineskip}
%}

